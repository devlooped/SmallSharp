name: +M‚ñº includes
on: 
  workflow_dispatch:
  push:
    branches:
      - 'main'
    paths:
      - '**.md'    

jobs:
  includes:
    runs-on: ubuntu-latest
    steps:
      - name: ü§ò checkout
        uses: actions/checkout@v2

      - name: üîç defaults
        uses: ./.github/workflows/defaults
        env:
          GH_TOKEN_SECRET: ${{ secrets.GH_TOKEN }}
          BOT_NAME_SECRET: ${{ secrets.BOT_NAME }}
          BOT_EMAIL_SECRET: ${{ secrets.BOT_EMAIL }}
          BOT_AUTHOR_SECRET: ${{ secrets.BOT_AUTHOR }}

      - name: +M‚ñº includes
        uses: devlooped/actions-include@v4

      - name: ‚úç pull request
        uses: peter-evans/create-pull-request@v3
        with:
          base: main
          branch: markdown-includes
          delete-branch: true
          labels: dependencies
          author: ${{ env.BOT_AUTHOR }}
          committer: ${{ env.BOT_AUTHOR }}
          commit-message: +M‚ñº includes
          title: +M‚ñº includes
          body: +M‚ñº includes
          token: ${{ env.GH_TOKEN }}